# מדריך למשתמש - מערכת ניהול ועדות

## תוכן עניינים
1. [סקירה כללית](#סקירה-כללית)
2. [מושגי יסוד](#מושגי-יסוד)
3. [התחלת עבודה](#התחלת-עבודה)
4. [ניהול חטיבות ומסלולים](#ניהול-חטיבות-ומסלולים)
5. [ניהול סוגי ועדות](#ניהול-סוגי-ועדות)
6. [ניהול ישיבות וועדות](#ניהול-ישיבות-וועדות)
7. [ניהול אירועים](#ניהול-אירועים)
8. [תזמון אוטומטי](#תזמון-אוטומטי)
9. [יומן אינטראקטיבי](#יומן-אינטראקטיבי)
10. [תאריכי חריגים](#תאריכי-חריגים)
11. [מערכת הרשאות](#מערכת-הרשאות)
12. [סל מחזור](#סל-מחזור)
13. [יומן ביקורת](#יומן-ביקורת)
14. [סנכרון לוח שנה](#סנכרון-לוח-שנה)
15. [אימות משתמשים מתקדם](#אימות-משתמשים-מתקדם)
16. [מערכת התראות](#מערכת-התראות)
17. [המלצות חכמות](#המלצות-חכמות)
18. [חישוב מועדי שלבים](#חישוב-מועדי-שלבים)
19. [ועדות תפעוליות](#ועדות-תפעוליות)
20. [שאלות נפוצות](#שאלות-נפוצות)

---

## סקירה כללית

מערכת ניהול ועדות היא פלטפורמה ווב מתקדמת המיועדת לארגון ותזמון ישיבות ועדות, ניהול אירועים וארגון חטיבות במערכת מורכבת עם תזמון אוטומטי חכם.

### תכונות עיקריות:
- **🏢 ניהול ארגוני מתקדם** - חטיבות עם צבעים מותאמים ומערכת הרשאות
- **📅 ניהול סוגי ועדות גמיש** - יצירה דינמית של ועדות שבועיות וחודשיות
- **🤖 תזמון אוטומטי חכם** - יצירה אוטומטית של לוח זמנים עם אילוצים עסקיים
- **📋 ניהול אירועים מתקדם** - אירועים הקשורים לישיבות ספציפיות עם חישוב מועדים אוטומטי
- **📊 יומן אינטראקטיבי** - ממשק ויזואלי עם תפריטי הקשר חכמים
- **⚙️ מערכת הרשאות** - בקרת גישה מבוססת תפקידים וחטיבות (Admin, Editor, Viewer)
- **🗑️ סל מחזור** - מחיקה רכה עם אפשרות שחזור של ועדות ואירועים
- **📝 יומן ביקורת מקיף** - תיעוד מלא של כל הפעולות במערכת
- **📆 סנכרון לוח שנה** - אינטגרציה אוטומטית עם Microsoft 365 Calendar
- **🔐 אימות מתקדם** - תמיכה ב-Active Directory (LDAP) ו-Azure AD (OAuth 2.0)
- **🔔 מערכת התראות חכמה** - הודעות אינטראקטיביות עם אנימציות
- **💡 המלצות חכמות** - ניקוד אוטומטי והמלצות לועדות מתאימות בעת הוספת אירוע
- **⏱️ חישוב מועדים אוטומטי** - חישוב מועדי שלבים (קול קורא, הגשה, סקירה, תגובה) תוך כיבוד SLA
- **⚡ ועדות תפעוליות** - הגדרת ועדות אדמיניסטרטיביות ללא קשר לאירועים

---

## מושגי יסוד

### 1. חטיבות (Hativot)
חטיבות הן יחידות ארגוניות עיקריות במערכת. כל חטיבה יכולה לכלול מספר מסלולים ולהשתתף בישיבות וועדות שונות.

**תכונות חטיבות:**
- **צבעים מותאמים אישית** - לזיהוי ויזואלי ביומן
- **ניהול משתמשים** - הקצאת משתמשים לחטיבות
- **סוגי ועדות ייחודיים** - כל חטיבה יכולה להגדיר סוגי ועדות משלה

**דוגמאות לחטיבות במערכת:**
- **הזנק** - חטיבת חדשנות וזירוז
- **צמיחה** - חטיבת פיתוח עסקי
- **תשתיות** - חטיבת תשתיות טכנולוגיות

### 2. מסלולים (Maslulim)
מסלולים הם תת-יחידות בתוך חטיבות. **כל מסלול שייך לחטיבה אחת בלבד** ויכול להשתתף באירועים שונים.

**מבנה היררכי:**
```
חטיבה
├── מסלול 1
├── מסלול 2
└── מסלול 3
```

**דוגמאות למסלולים במערכת:**
- **חטיבת הזנק (10 מסלולים):**
  - זירה, זירה + מסלול, הזנק
  - הזנק קרן פרה-סיד (מסלול 7)
  - הזנק קרן הון אנושי להייטק
  - הזנק הליך תחרותי, הזנק סיד היברידי
  - הזנק מעבדות חדשנות, הזנק חממות, הזנק תנופה

- **חטיבת צמיחה (9 מסלולים):**
  - צמיחה, צמיחה קרן הסיד (מסלול 7)
  - צמיחה קרן A (מסלול 7), צמיחה קרן המו"פ
  - צמיחה פיילוטים, צמיחה פיילוט רחפנים
  - צמיחה פליטת גזי חממה, צמיחה חדשנות משבשת, צמיחה ערוץ מהיר

- **חטיבת תשתיות (9 מסלולים):**
  - תשתיות, תשתיות מאגדי מגנט (5א')
  - תשתיות מאגד בהתקשרויות יחידניות תעשיה/אקדמיה
  - תשתיות המסלול המשותף עם משרד הביטחון (מימ"ד)
  - תשתיות מסחור ידע (5ד'), תשתיות מחקר יישומי באקדמיה (5ג')
  - תשתיות תשתיות מו"פ לתעשייה (5ב'), תשתיות מחקר יישומי בתעשיה (5ה')

**חשוב:** כשיוצרים אירוע, המסלול חייב להשתייך לאותה חטיבה של ישיבת הועדה.

### 3. סוגי ועדות (Committee Types)
הגדרות כלליות של סוגי ועדות עם כללי התזמון שלהן. **כל חטיבה יכולה להגדיר סוגי ועדות משלה**.

**תכונות סוגי ועדות:**
- **תזמון גמיש** - ועדות שבועיות או חודשיות
- **ימי עסקים** - ראשון עד חמישי (לוח עבודה ישראלי)
- **ועדות חודשיות** - אפשרות לקבוע שבוע מסוים בחודש

**דוגמאות לסוגי ועדות:**
- **ועדת הזנק** - ישיבה שבועית בימי ראשון
- **ועדת תשתיות** - ישיבה שבועית בימי שלישי
- **ועדת צמיחה** - ישיבה שבועית בימי רביעי
- **ועדות חודשיות** - שבוע ראשון/שני/שלישי/רביעי בחודש

### 4. ישיבות וועדות (Vaadot)
ישיבות ספציפיות המתקיימות בתאריך מסוים עבור חטיבה מסוימת. כל ישיבה מבוססת על סוג ועדה מסוים.

**מבנה ישיבה:**
- **סוג ועדה** (למשל: ועדת הזנק)
- **חטיבה** (למשל: חטיבת הזנק)
- **תאריך** (למשל: 15/09/2025)
- **סטטוס** (מתוכנן/מתוזמן/הושלם/בוטל)
- **הערות** (אופציונלי)

### 5. אירועים (Events)
פעילויות ספציפיות המתרחשות במסגרת ישיבת ועדה. כל אירוע קשור למסלול מסוים **מאותה חטיבה**.

**סוגי אירועים:**
- **קו"ק** - בדיקת איכות/סקירה
- **שוטף** - אירוע רגיל/פרויקט שוטף

**אילוצי אירועים:**
- אירוע חייב להיות קשור לישיבת ועדה קיימת
- המסלול חייב להשתייך לאותה חטיבה של הועדה
- המערכת מאמתת התאמת חטיבות אוטומטית

---

## התחלת עבודה

### הפעלת המערכת

#### התקנה ראשונית
1. **שכפל הפרויקט:**
   ```bash
   git clone <repository-url>
   cd izun
   ```

2. **הכן סביבה וירטואלית:**
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Linux/Mac
   # או .venv\Scripts\activate  # Windows
   ```

3. **התקן תלויות:**
   ```bash
   pip install -r requirements.txt
   ```

#### הפעלה יומיומית
```bash
# הפעלת המערכת
python app.py
```

4. **פתח דפדפן** וגש לכתובת: `http://localhost:5001`

### ממשק המשתמש הראשי

כשתיכנס למערכת, תראה:

#### 🏠 דף הבית
- **דשבורד מידע** - סטטיסטיקות כלליות של המערכת
- **יומן אינטראקטיבי** - תצוגה חודשית עם צבעי חטיבות
- **תפריטי הקשר חכמים** - לחיצה על תאריכים לפעולות מהירות
- **פעולות מהירות** - כפתורים לתזמון אוטומטי וניהול ועדות

#### 🧭 תפריט ניווט
- **🏠 דף הבית** - יומן ודשבורד ראשי
- **📋 אירועים** - ניהול אירועים בישיבות ועדה
- **🤖 תזמון אוטומטי** - יצירה אוטומטית של לוח זמנים
- **⚙️ הגדרות** - ניהול חטיבות, מסלולים, סוגי ועדות ותאריכי חריגים

#### 👤 מערכת הרשאות
- **Admin** - גישה מלאה לכל הפונקציות
- **Manager** - ניהול חטיבה ספציפית
- **User** - צפייה וניהול מוגבל

---

## ניהול חטיבות ומסלולים

### ניהול חטיבות

#### הוספת חטיבה חדשה
1. **גש ל"הגדרות" → "חטיבות"**
2. **לחץ "הוסף חטיבה חדשה"**
3. **מלא את הפרטים:**
   - **שם החטיבה** (חובה)
   - **תיאור** (אופציונלי)
   - **צבע** - בחר צבע לזיהוי ויזואלי ביומן
4. **לחץ "הוסף חטיבה"**

#### עריכת חטיבה קיימת
1. **בטבלת החטיבות**, לחץ על כפתור **"ערוך"**
2. **עדכן פרטים** - שם, תיאור או צבע
3. **לחץ "שמור שינויים"**

**תכונות מתקדמות:**
- **צבעים מותאמים אישית** - כל חטיבה מוצגת בצבע ייחודי ביומן
- **תצוגה מיידית** - שינויי צבע מוצגים מיד בטבלה
- **אינטגרציה מלאה** - הצבעים מוצגים בכל חלקי המערכת

### ניהול מסלולים

#### הוספת מסלול חדש
1. **גש ל"הגדרות" → "מסלולים"**
2. **לחץ "הוסף מסלול חדש"**
3. **בחר חטיבה** מהרשימה הנפתחת - **חובה לבחור חטיבה קיימת**
4. **מלא את הפרטים:**
   - **שם המסלול** (חובה)
   - **תיאור** (אופציונלי)
5. **לחץ "הוסף מסלול"**

#### עריכת מסלול קיים
1. **בטבלת המסלולים**, לחץ על כפתור **"ערוך"**
2. **עדכן פרטים** - שם, תיאור או חטיבה
3. **לחץ "שמור שינויים"**

**חשוב:** 
- כל מסלול חייב להיות משויך לחטיבה אחת
- לא ניתן ליצור מסלול ללא בחירת חטיבה
- המסלול יוצג תמיד תחת החטיבה שנבחרה
- שינוי חטיבה של מסלול משפיע על כל האירועים הקשורים אליו

---

## ניהול סוגי ועדות

### גישה לניהול סוגי ועדות
1. **גש ל"הגדרות" → "ניהול סוגי ועדות"**
2. **צפה בממשק מודרני** עם כרטיסי ועדות וחיפוש

### הוספת סוג ועדה חדש
1. **לחץ "הוסף סוג ועדה חדש"**
2. **מלא את הפרטים:**
   - **חטיבה** - בחר חטיבה מהרשימה
   - **שם הועדה** - שם תיאורי (למשל: "ועדת הזנק")
   - **יום בשבוע** - ראשון עד חמישי
   - **תדירות** - שבועית או חודשית
   - **שבוע בחודש** - עבור ועדות חודשיות (ראשון/שני/שלישי/רביעי)
   - **תיאור** - תיאור נוסף (אופציונלי)
3. **לחץ "הוסף סוג ועדה"**

### עריכת סוג ועדה קיים
1. **בכרטיס הועדה**, לחץ על **תפריט הפעולות (⋮)**
2. **בחר "ערוך"**
3. **עדכן פרטים** בחלון הקופץ
4. **לחץ "שמור שינויים"**

### תכונות מתקדמות
- **חיפוש בזמן אמת** - חפש לפי שם ועדה
- **סינון לפי תדירות** - הצג רק ועדות שבועיות או חודשיות
- **סטטיסטיקות** - צפה במספר ועדות שבועיות/חודשיות
- **עיצוב כרטיסים** - ממשק מודרני ונוח

---

## ניהול ישיבות וועדות

### יצירת ישיבת ועדה חדשה

#### דרך היומן (מומלץ)
1. **ביומן הראשי**, לחץ על **תאריך ריק**
2. **הטופס יפתח אוטומטי** עם התאריך מוקדם-מולא
3. **מלא את הפרטים:**
   - **סוג ועדה** - בחר מסוגי הועדות המוגדרים
   - **חטיבה** - בחר חטיבה (רק ועדות של אותה חטיבה יוצגו)
   - **הערות** - הערות נוספות (אופציונלי)
4. **לחץ "צור ישיבה"**

#### דרך תפריט הפעולות
1. **לחץ על "הוסף ישיבת ועדה"** בדף הבית
2. **בחר תאריך** ידנית
3. **המשך כמו בתהליך הרגיל**

### ניהול ישיבות קיימות

#### מהיומן
- **לחץ על תאריך עם ועדה קיימת** לתפריט פעולות:
  - **📅 הוסף אירוע לועדה** - הוספה מהירה של אירוע
  - **✏️ ערוך ועדה** - עריכת פרטי הישיבה
  - **🗑️ מחק ועדה** - מחיקה עם אישור

### סטטוסי ישיבות
- **מתוכנן** - ישיבה נוצרה אך טרם תוזמנה
- **מתוזמן** - ישיבה תוזמנה והוזמנו משתתפים  
- **הושלם** - ישיבה התקיימה
- **בוטל** - ישיבה בוטלה

---

## ניהול אירועים

### הוספת אירוע לישיבה

#### דרך היומן (מומלץ)
1. **ביומן הראשי**, לחץ על **תאריך עם ועדה קיימת**
2. **בחר "📅 הוסף אירוע לועדה"**
3. **הטופס יפתח** עם הועדה והתאריך מוקדמי-מולאים
4. **בחר מסלול** - רק מסלולים מאותה חטיבה יוצגו
5. **מלא פרטי האירוע** ולחץ "צור אירוע"

#### דרך עמוד האירועים
1. **גש לעמוד "אירועים"**
2. **לחץ "צור אירוע חדש"**
3. **מלא את הפרטים:**
   - **ישיבת ועדה** - בחר ישיבה קיימת (מוצגים שם ועדה, חטיבה ותאריך)
   - **מסלול** - בחר מסלול המשתתף
   - **שם האירוע** - תיאור האירוע
   - **סוג אירוע** - קו"ק או שוטף
   - **מספר בקשות צפוי** - מספר (אופציונלי)
4. **לחץ "צור אירוע"**

### אימות חטיבות אוטומטי
המערכת מבצעת אימות אוטומטי:
- **בחירת מסלול** - רק מסלולים מאותה חטיבה של הועדה מוצגים
- **הודעות שגיאה** - אם נבחר מסלול לא תואם, המערכת תציג שגיאה ברורה
- **סינון דינמי** - רשימת המסלולים מתעדכנת לפי הועדה הנבחרת

### סוגי אירועים

#### קו"ק (בדיקת איכות)
- בדיקות קוד וסקירות טכניות
- בדיקות איכות ואישורים
- הערכות טכניות
- ביקורות פרויקטים

#### שוטף
- פרויקטים שוטפים
- עדכונים תקופתיים
- דיווחי התקדמות
- פעילויות רגילות

### צפייה וניהול אירועים

בעמוד האירועים תוכל:
- **רשימה מפורטת** - כל האירועים עם פרטי ועדה, חטיבה ותאריך
- **עריכת אירועים** - עדכון פרטים של אירועים קיימים
- **מחיקת אירועים** - הסרה עם אישור
- **סינון וחיפוש** - מציאת אירועים ספציפיים

---

## תזמון אוטומטי

מערכת התזמון האוטומטי מאפשרת יצירה אוטומטית של לוח זמנים **למספר חודשים בבת אחת** עבור חטיבות נבחרות, תוך כיבוד כל האילוצים העסקיים המתקדמים.

### כללי התזמון האוטומטי

המערכת פועלת לפי הכללים החדשים:
- **ימי עסקים**: ראשון עד חמישי (לוח עבודה ישראלי)
- **ועדה אחת ביום**: מקסימום ישיבה אחת ביום בכל המערכת
- **ימים קבועים לוועדות**: כל סוג ועדה ביום קבוע שהוגדר
- **תדירות גמישה**: ועדות שבועיות וחודשיות (שבוע מסוים בחודש)
- **התחשבות בחגים**: אוטומטית עם תאריכי חריגים
- **מגבלות שבועיות**: מקסימום ישיבות בשבוע (ניתן להגדרה)

### שימוש בתזמון האוטומטי

#### שלב 1: הגדרת פרמטרים
1. **גש ל"תזמון אוטומטי"** מהתפריט או דף הבית
2. **בחר שנה** מהרשימה הנפתחת
3. **בחר חודשים** - סמן מספר חודשים (יכול להיות כמה חודשים בבת אחת)
   - **"בחר הכל"** - לבחירת כל החודשים בשנה
4. **בחר חטיבות** - סמן חטיבות לתזמון
   - **"בחר הכל"** - לבחירת כל החטיבות
5. **לחץ "צור תזמון אוטומטי"**

#### שלב 2: סקירת הצעות
1. **עמוד הביקורת יפתח** עם כל ההצעות
2. **צפה בהצעות לכל חודש** - מפורט לפי חטיבות
3. **בדוק תוצאות אימות** - האם כל האילוצים מתקיימים
4. **בחר ישיבות לאישור** - סמן אילו ישיבות ליצור

#### שלב 3: אישור ויצירה
1. **סמן ישיבות רצויות** עם checkboxes
2. **השתמש ב"בחר הכל"** לבחירה מהירה
3. **לחץ "אשר ויצור ישיבות נבחרות"**
4. **המערכת תיצור** את הישיבות ותציג הודעת הצלחה

### תכונות מתקדמות

#### תזמון למספר חודשים
- **יעילות גבוהה** - תכנון לוח זמנים לתקופה ארוכה
- **עקביות** - שמירה על דפוסי תזמון לאורך זמן
- **גמישות** - אפשרות לבחור חודשים ספציפיים

#### ממשק ביקורת ואישור
- **תצוגה מפורטת** - כל הצעה עם פרטים מלאים
- **אימות אילוצים** - בדיקה אוטומטית של כל הכללים
- **בחירה חכמה** - אפשרות לאשר רק חלק מההצעות
- **משוב מיידי** - הודעות על הצלחה או כישלון

### תוצאות האימות

המערכת מציגה סיכום מפורט:
- **מספר הצעות לכל חטיבה וחודש**
- **בדיקת אילוצים שבועיים**
- **זיהוי התנגשויות אפשריות**
- **המלצות לשיפור התזמון**
- **סיבות לדחיית הצעות**

---

## יומן אינטראקטיבי

היומן האינטראקטיבי הוא הלב של המערכת - ממשק ויזואלי מתקדם המאפשר ניהול מהיר ויעיל של ועדות ואירועים.

### תכונות היומן

#### 🎨 עיצוב ויזואלי מתקדם
- **צבעי חטיבות** - כל חטיבה מוצגת בצבע ייחודי
- **מקרא צבעים** - הצגת כל החטיבות עם הצבעים שלהן
- **עיצוב רספונסיבי** - מתאים לכל גדלי מסך
- **ימי עסקים בולטים** - ראשון עד חמישי מודגשים

#### 🖱️ אינטראקטיביות מתקדמת
- **לחיצה על תאריכים** - פעולות מהירות לכל תאריך
- **תפריטי הקשר חכמים** - אפשרויות מותאמות לתוכן התאריך
- **ניווט מהיר** - מעבר בין חודשים עם חצים או בחירה ישירה

### שימוש ביומן

#### לחיצה על תאריך ריק
- **פתיחה אוטומטית** של טופס "הוסף ישיבת ועדה"
- **התאריך מוקדם-מולא** בטופס
- **תהליך מהיר** ליצירת ועדה חדשה

#### לחיצה על תאריך עם ועדה קיימת
תפריט פעולות עם 3 אפשרויות:
1. **📅 הוסף אירוע לועדה** 
   - פתיחת טופס אירוע עם הועדה מוקדמת-מולאת
   - סינון אוטומטי של מסלולים לפי חטיבת הועדה
   - הצגת שם הועדה והחטיבה בכותרת משנה

2. **✏️ ערוך ועדה**
   - פתיחת טופס עריכה עם הנתונים הקיימים
   - אפשרות לשנות פרטי הועדה

3. **🗑️ מחק ועדה**
   - מחיקה עם אישור
   - הודעת אזהרה לפני המחיקה

### ניווט ביומן

#### כפתורי ניווט
- **◀ חודש קודם** - מעבר לחודש הקודם
- **היום** - חזרה לחודש הנוכחי
- **חודש הבא ▶** - מעבר לחודש הבא

#### בחירה ישירה
- **בוחר חודש** - קפיצה ישירה לחודש רצוי
- **בוחר שנה** - מעבר לשנה אחרת

### תצוגת מידע

#### פרטי ישיבות
- **שם הועדה** מוצג על התאריך
- **צבע החטיבה** כרקע
- **מספר אירועים** (אם קיימים)

#### מקרא צבעים
- **רשימת חטיבות** עם הצבעים שלהן
- **זיהוי מהיר** של ועדות לפי צבע
- **עיצוב אלגנטי** בצד היומן

---

## תאריכי חריגים

ניהול תאריכי חריגים מאפשר להגדיר חגים, ימי שבתון מיוחדים ותאריכים אחרים שבהם לא ניתן לקיים ישיבות ועדה.

### הוספת תאריך חריג

1. **גש ל"הגדרות" → "תאריכי חריגים"**
2. **לחץ "הוסף תאריך חריג"**
3. **מלא את הפרטים:**
   - **תאריך** - בחר תאריך מהלוח
   - **תיאור** - סיבת החריג (למשל: "יום כיפור", "יום עצמאות")
   - **סוג** - בחר מהאפשרויות:
     - **חג** - חגים יהודיים ולאומיים
     - **שבת** - ימי שבת מיוחדים
     - **מיוחד** - ימי שבתון או אירועים חריגים
4. **לחץ "הוסף תאריך חריג"**

### ניהול תאריכי חריגים

#### צפייה ועריכה
- **רשימת תאריכים** - כל התאריכים החריגים במערכת
- **עריכה** - עדכון תיאור או סוג של תאריך קיים
- **מחיקה** - הסרת תאריך חריג (עם אישור)

#### ייבוא אוטומטי
המערכת יכולה לכלול:
- **חגים יהודיים** - ראש השנה, יום כיפור, סוכות וכו'
- **חגים לאומיים** - יום העצמאות, יום הזיכרון וכו'
- **ימי שבת** - אוטומטיים (שישי-שבת)

### השפעה על המערכת

תאריכי חריגים משפיעים על:
- **תזמון אוטומטי** - המערכת מתחמקת מתאריכים אלה
- **יומן** - תאריכים מוצגים בצבע מיוחד או מסומנים
- **אימות ישיבות** - מניעת יצירת ישיבות בתאריכי חריג
- **הצעת תאריכים** - חיפוש תאריכים חלופיים

---

## מערכת הרשאות

המערכת כוללת מערכת הרשאות מתקדמת המבוססת על תפקידים וחטיבות.

### תפקידי משתמשים

#### 👑 Admin (מנהל מערכת)
**הרשאות מלאות:**
- ניהול כל החטיבות והמסלולים
- יצירה ועריכה של כל סוגי הועדות
- תזמון אוטומטי לכל החטיבות
- ניהול משתמשים והרשאות
- ניהול תאריכי חריגים
- הגדרות מערכת גלובליות

#### 👨‍💼 Manager (מנהל חטיבה)
**הרשאות מוגבלות לחטיבה:**
- ניהול החטיבה שלו בלבד
- יצירה ועריכה של סוגי ועדות לחטיבה שלו
- תזמון אוטומטי לחטיבה שלו
- ניהול ישיבות ואירועים של החטיבה
- צפייה במידע של חטיבות אחרות (לצורך תיאום)

#### 👤 User (משתמש רגיל)
**הרשאות צפייה ועריכה מוגבלת:**
- צפייה בכל המידע
- יצירת אירועים (בהתאם להגדרות)
- עריכה מוגבלת בהתאם להגדרות מערכת
- אין גישה לניהול חטיבות או סוגי ועדות

### בקרת עריכה

#### תקופות עריכה
המערכת כוללת בקרה על תקופות עריכה:
- **תקופת עריכה פעילה** - משתמשים רגילים יכולים לערוך
- **תקופת עריכה סגורה** - רק מנהלים יכולים לערוך
- **הגדרת מועדים** - תאריכי התחלה וסיום לתקופות עריכה

#### הרשאות דינמיות
- **הרשאות מבוססות זמן** - שינוי הרשאות לפי תקופות
- **הרשאות מבוססות חטיבה** - גישה רק למידע רלוונטי
- **בקרת פעולות** - הגבלה על פעולות ספציפיות

### ניהול משתמשים (Admin בלבד)

#### הוספת משתמש חדש
1. **גש ל"הגדרות" → "משתמשים"**
2. **לחץ "הוסף משתמש חדש"**
3. **מלא פרטים:**
   - שם משתמש ואימייל
   - סיסמה ראשונית
   - תפקיד (Admin/Manager/User)
   - חטיבה (עבור Manager ו-User)
4. **שמור משתמש**

#### עריכת הרשאות
- **שינוי תפקיד** - העלאה או הורדה בתפקיד
- **שינוי חטיבה** - העברה בין חטיבות
- **השבתת משתמש** - הקפאה זמנית של חשבון

---

## סל מחזור

סל המחזור מאפשר שחזור של פריטים שנמחקו בטעות, תוך הפרדה בין מחיקה רכה למחיקה קבועה.

### מהי מחיקה רכה?

כאשר אתה מוחק ועדה או אירוע, הפריט לא נמחק לגמרי מהמערכת אלא:
- **מועבר לסל המחזור** - הפריט מסומן כ"מחוק" אך הנתונים נשמרים
- **מוסתר מהתצוגה הרגילה** - לא יופיע ביומן או ברשימות
- **ניתן לשחזור** - אפשרות להחזיר את הפריט בכל עת
- **נרשם ביומן הביקורת** - כולל מי מחק ומתי

### גישה לסל המחזור

1. **גש ל"סל מחזור"** מהתפריט הראשי
2. **צפה בפריטים המחוקים** - ועדות ואירועים בנפרד
3. **פרטים מלאים** - כולל מי מחק, מתי נמחק, ותיאור הפריט

### שחזור פריטים

#### שחזור ועדה
1. **מצא את הועדה** ברשימת הועדות המחוקות
2. **לחץ "שחזר"** ליד הועדה
3. **אשר את השחזור** בחלון הקופץ
4. **הועדה תוחזר** - תופיע שוב ביומן ובכל הרשימות

#### שחזור אירוע
1. **מצא את האירוע** ברשימת האירועים המחוקים
2. **לחץ "שחזר"** ליד האירוע
3. **אשר את השחזור**
4. **האירוע יוחזר** - יופיע שוב תחת הועדה שלו

**חשוב:** שחזור ועדה לא משחזר אוטומטית את האירועים שלה. צריך לשחזר כל אירוע בנפרד.

### מחיקה קבועה

**⚠️ אזהרה:** מחיקה קבועה היא בלתי הפיכה!

#### מחיקה קבועה של פריט בודד
1. **בסל המחזור**, לחץ **"מחק לצמיתות"** ליד הפריט
2. **אשר את המחיקה** - הפריט יימחק לצמיתות מהמערכת
3. **לא ניתן לשחזר** - הנתונים אבדו לצמיתות

#### ריקון סל המחזור
1. **לחץ "רוקן סל מחזור"** בראש הדף
2. **אשר את הפעולה** - כל הפריטים יימחקו לצמיתות
3. **פעולה בלתי הפיכה** - כל הנתונים אבדו

### הרשאות סל מחזור

- **Admin**: גישה מלאה, יכול לשחזר ולמחוק לצמיתות כל פריט
- **Editor**: יכול לראות ולשחזר רק פריטים שיצר
- **Viewer**: אין גישה לסל המחזור

### מידע נוסף

- **תיעוד ביומן הביקורת**: כל פעולה (מחיקה, שחזור, מחיקה קבועה) נרשמת
- **סינון לפי תאריך**: אפשרות לחפש פריטים שנמחקו בתקופה מסוימת
- **מידע מפורט**: שם המוחק, תאריך מחיקה, פרטי הפריט המלאים

---

## יומן ביקורת

יומן הביקורת (Audit Log) מתעד באופן אוטומטי כל פעולה במערכת, מספק שקיפות מלאה ומאפשר מעקב אחר שינויים.

### מה נרשם ביומן?

**כל פעולה במערכת מתועדת:**
- **התחברות וניתוק** - Login/Logout attempts (כולל כושלים)
- **יצירה** - חטיבות, מסלולים, סוגי ועדות, ועדות, אירועים
- **עריכה** - שינויים בכל הישויות
- **מחיקה** - מחיקה רכה וקבועה
- **שחזור** - שחזור פריטים מסל המחזור
- **הגדרות מערכת** - שינויים בהגדרות גלובליות
- **ניהול משתמשים** - הוספה, עריכה, השבתה

### פרטים הנרשמים

לכל רשומה נשמרים:
- **תאריך ושעה מדויקים** - Timestamp
- **משתמש** - מי ביצע את הפעולה
- **פעולה** - סוג הפעולה (CREATE, UPDATE, DELETE, וכו')
- **ישות** - על איזה טבלה/אובייקט בוצעה הפעולה
- **מזהה ישות** - ID של הפריט שהושפע
- **פרטים נוספים** - JSON עם הנתונים הספציפיים
- **IP Address** - כתובת IP של המשתמש
- **User Agent** - דפדפן ומערכת הפעלה
- **סטטוס** - הצלחה או כישלון
- **הודעת שגיאה** - במקרה של כישלון

### גישה ליומן הביקורת

**הרשאות נדרשות:** Admin בלבד

1. **גש לתפריט משתמש** (פינה ימנית עליונה)
2. **בחר "יומן ביקורת"**
3. **הדף ייפתח** עם כל הרשומות

### סינון וחיפוש

#### סינון לפי תאריך
1. **בחר טווח תאריכים** - מתאריך עד תאריך
2. **לחץ "סנן"** לתצוגת הרשומות בטווח

#### סינון לפי משתמש
1. **בחר משתמש** מהרשימה הנפתחת
2. **צפה רק בפעולות** של משתמש זה

#### סינון לפי פעולה
- **ALL** - כל הפעולות
- **LOGIN** - התחברויות
- **CREATE** - יצירת פריטים
- **UPDATE** - עריכות
- **DELETE** - מחיקות
- **RESTORE** - שחזורים

#### סינון לפי ישות
- **ALL** - כל הטבלאות
- **vaadot** - ועדות
- **events** - אירועים
- **users** - משתמשים
- **hativot** - חטיבות
- **ועוד...**

### סטטיסטיקות

הדף מציג סיכום גרפי:
- **פעולות לפי סוג** - גרף עמודות
- **פעולות לפי משתמש** - גרף עוגה
- **פעולות לפי ישות** - גרף עוגה
- **פעולות לאורך זמן** - גרף קווי

### ייצוא נתונים

#### ייצוא ל-CSV
1. **בחר סינון** (אופציונלי)
2. **לחץ "ייצא ל-CSV"**
3. **הקובץ ירד** עם כל הרשומות המסוננות

**שימושים לייצוא:**
- דוחות ביקורת לניהול
- ניתוח פעילות משתמשים
- חקירת תקלות
- גיבוי רשומות ביקורת

### דוגמאות לשימוש

#### מציאת מי מחק ועדה
1. **סנן לפי ישות**: vaadot
2. **סנן לפי פעולה**: DELETE
3. **חפש את מזהה הועדה** בעמודת Entity ID
4. **ראה מי ומתי** מחק

#### מעקב אחר שינויים באירוע
1. **סנן לפי ישות**: events
2. **סנן לפי Entity ID**: מזהה האירוע
3. **צפה בכל השינויים** - יצירה, עריכות, מחיקה

#### ניטור התחברויות כושלות
1. **סנן לפי פעולה**: LOGIN
2. **סנן לפי סטטוס**: failed
3. **זיהוי ניסיונות פריצה** אפשריים

---

## סנכרון לוח שנה

המערכת יכולה לסנכרן אוטומטית ישיבות ועדות ומועדי אירועים ללוח השנה של Microsoft 365.

### הפעלת הסנכרון

**הרשאות נדרשות:** Admin בלבד

#### שלב 1: הגדרת חשבון Microsoft
1. **גש ל"הגדרות" → "הגדרות מערכת"**
2. **מצא את קטגוריית "סנכרון לוח שנה"**
3. **הפעל סנכרון**: שנה ל-"כן"
4. **הזן כתובת אימייל**: חשבון Microsoft 365 לסנכרון
5. **הגדר תדירות**: מספר שעות בין סנכרונים (ברירת מחדל: 1)
6. **שמור הגדרות**

#### שלב 2: אימות עם Microsoft
1. **המערכת תפנה אותך ל-Microsoft Login**
2. **התחבר עם חשבון Microsoft 365**
3. **אשר הרשאות** לגישה ללוח השנה
4. **חזור למערכת** - הסנכרון פעיל

### מה מסונכרן?

המערכת מסנכרנת 5 סוגי אירועים:

#### 1. ישיבות ועדה (Vaadot)
- **כותרת**: "ישיבת [שם הועדה] - [שם חטיבה]"
- **תאריך**: תאריך הישיבה
- **משך**: 2 שעות (ברירת מחדל)
- **תיאור**: פרטי הועדה והערות

#### 2. מועד פרסום קול קורא
- **כותרת**: "קול קורא - [שם אירוע]"
- **תאריך**: תאריך פרסום הקול קורא
- **משך**: יום מלא

#### 3. מועד סגירת קול קורא
- **כותרת**: "סגירת קול קורא - [שם אירוע]"
- **תאריך**: מועד הגשה אחרון
- **משך**: יום מלא
- **התראה**: 3 ימים לפני

#### 4. מועד הגשת בקשות
- **כותרת**: "מועד הגשה - [שם אירוע]"
- **תאריך**: מועד הגשה
- **משך**: יום מלא
- **התראה**: 3 ימים לפני

#### 5. מועד תגובה למבקשים
- **כותרת**: "מועד תגובה - [שם אירוע]"
- **תאריך**: מועד משוב
- **משך**: יום מלא

### ניהול סנכרון

#### סנכרון ידני
1. **גש ל"הגדרות" → "סנכרון לוח שנה"**
2. **לחץ "בצע סנכרון עכשיו"**
3. **המערכת תסנכרן** את כל הנתונים

#### סנכרון אוטומטי
- רץ **ברקע** בתדירות שהוגדרה
- **אין צורך בהתערבות** - הכל אוטומטי
- **מעקב אחר שינויים** - רק פריטים שהשתנו מסונכרנים

#### עקיבה אחר סנכרון
- **לוג הסנכרון** - רשומות של כל פעולת סנכרון
- **הצלחה/כישלון** - סטטוס לכל פריט
- **מזהה אירוע** - קישור בין מערכת ללוח שנה

### פתרון בעיות

#### הסנכרון לא עובד
1. **בדוק הגדרות Microsoft** - האם החשבון תקין
2. **בדוק הרשאות** - האם נתת גישה ללוח השנה
3. **בדוק תדירות** - האם הגדרת תדירות סבירה
4. **ראה לוג שגיאות** במערכת

#### אירועים כפולים
- **מחק ידנית** אירועים ישנים מ-Outlook
- **בצע סנכרון מחדש** - המערכת תעדכן

#### שינוי חשבון סנכרון
1. **נתק את החשבון הנוכחי**
2. **הזן חשבון חדש**
3. **בצע אימות מחדש**
4. **סנכרן מחדש** את כל הנתונים

---

## אימות משתמשים מתקדם

המערכת תומכת ב-3 שיטות אימות מתקדמות: מקומי, Active Directory ו-Azure AD.

### שיטות אימות

#### 1. אימות מקומי (Local)
- **ברירת מחדל** - סיסמאות מאוחסנות במערכת
- **מתאים ל**: סביבות קטנות, פיתוח, בדיקות
- **יצירת משתמשים**: ידנית על ידי Admin

#### 2. Active Directory (LDAP/LDAPS)
- **אימות ארגוני** - מול שרת AD של הארגון
- **מתאים ל**: ארגונים עם תשתית AD קיימת
- **יצירת משתמשים**: אוטומטית בהתחברות ראשונה
- **סנכרון**: פרטי משתמש מתעדכנים אוטומטית

#### 3. Azure AD (OAuth 2.0)
- **אימות ענן** - מול Microsoft Azure
- **מתאים ל**: ארגונים עם Microsoft 365
- **יצירת משתמשים**: אוטומטית בהתחברות ראשונה
- **תכונות נוספות**: SSO, MFA, Conditional Access

### הגדרת Active Directory (LDAP)

**הרשאות נדרשות:** Admin בלבד

#### שלב 1: הפעלת LDAP
1. **גש ל"הגדרות" → "הגדרות מערכת"**
2. **מצא קטגוריית "Active Directory"**
3. **הפעל LDAP**: שנה ל-"כן"
4. **שמור הגדרות**

#### שלב 2: הגדרת חיבור
הגדר את הפרמטרים הבאים:
- **LDAP Server**: כתובת השרת (ldap://dc.company.com)
- **LDAP Port**: 389 (LDAP) או 636 (LDAPS)
- **Use SSL**: כן (LDAPS) או לא (LDAP)
- **Base DN**: CN=Users,DC=company,DC=com
- **Bind DN**: משתמש לקריאה מ-AD
- **Bind Password**: סיסמה

#### שלב 3: הגדרת מיפוי משתמשים
- **User Search Filter**: (sAMAccountName={username})
- **Username Attribute**: sAMAccountName
- **Email Attribute**: mail
- **Full Name Attribute**: displayName

#### שלב 4: מיפוי קבוצות לתפקידים
```
Admin Group: CN=AppAdmins,CN=Users,DC=company,DC=com
Editor Group: CN=AppEditors,CN=Users,DC=company,DC=com
Viewer Group: CN=AppViewers,CN=Users,DC=company,DC=com
```

#### שלב 5: בדיקה
1. **לחץ "בדוק חיבור LDAP"**
2. **וודא הודעת הצלחה**
3. **נסה להתחבר** עם משתמש AD

### הגדרת Azure AD (OAuth 2.0)

#### שלב 1: רישום אפליקציה ב-Azure
1. **גש ל-Azure Portal** → Azure Active Directory
2. **App Registrations** → New Registration
3. **שם**: Committee System
4. **Redirect URI**: https://your-app.com/auth/callback
5. **רשום את האפליקציה**

#### שלב 2: קבלת פרטי אפליקציה
- **Application (client) ID** - העתק
- **Directory (tenant) ID** - העתק
- **Client Secret** - צור ב-Certificates & secrets

#### שלב 3: הגדרת הרשאות
1. **API Permissions** → Add Permission
2. **Microsoft Graph** → Delegated
3. **בחר**: User.Read, Calendars.ReadWrite
4. **Grant Admin Consent**

#### שלב 4: הזנת פרטים במערכת
1. **גש ל"הגדרות" → "הגדרות מערכת"**
2. **קטגוריית "Azure AD"**
3. **הפעל Azure AD**: כן
4. **Client ID**: הדבק
5. **Client Secret**: הדבק
6. **Tenant ID**: הדבק
7. **שמור**

#### שלב 5: התחברות
1. **בדף Login**, לחץ **"התחבר עם Microsoft"**
2. **אישור הרשאות** ב-Microsoft
3. **המערכת תיצור משתמש** אוטומטית

### התנהגות אימות

#### יצירת משתמשים אוטומטית
כאשר משתמש מתחבר בפעם הראשונה דרך AD/Azure:
- **נוצר משתמש חדש** במערכת
- **מיפוי תפקיד** לפי קבוצות AD
- **פרטים מתמלאים** - שם, אימייל
- **auth_source** מסומן כ-"ad" או "azure"

#### סנכרון מידע
בכל התחברות:
- **עדכון שם מלא** - מ-AD/Azure
- **עדכון אימייל** - מ-AD/Azure
- **בדיקת חברות בקבוצות** - עדכון תפקיד

#### התנהגות מעורבת
המערכת תומכת במשתמשים מקומיים ו-AD/Azure **במקביל**:
- משתמשים מקומיים: auth_source = "local"
- משתמשים AD: auth_source = "ad"
- משתמשים Azure: auth_source = "azure"

---

## מערכת התראות

מערכת התראות חכמה ואינטראקטיבית המציגה הודעות למשתמש בצורה ויזואלית ונוחה.

### סוגי התראות

#### 🟢 Success (הצלחה)
- **צבע**: ירוק
- **משך**: 8 שניות
- **שימוש**: פעולות שהושלמו בהצלחה
- **דוגמאות**: "הועדה נוצרה בהצלחה", "האירוע נשמר"

#### 🔴 Error (שגיאה)
- **צבע**: אדום
- **משך**: 15 שניות
- **שימוש**: שגיאות וכישלונות
- **דוגמאות**: "שגיאה ביצירת ועדה", "שדות חובה חסרים"

#### 🟡 Warning (אזהרה)
- **צבע**: כתום
- **משך**: 10 שניות
- **שימוש**: אזהרות וזהירות
- **דוגמאות**: "ועדה כבר קיימת בתאריך זה", "תקופת עריכה עומדת להסתיים"

#### 🔵 Info (מידע)
- **צבע**: כחול
- **משך**: 6 שניות
- **שימוש**: מידע כללי
- **דוגמאות**: "הנתונים מסונכרנים", "עדכון זמין"

### תכונות מתקדמות

#### פס התקדמות
- **סרגל מתמלא** מלמטה
- **מראה זמן נותר** בצורה ויזואלית
- **אנימציה חלקה**

#### השהייה בעכבר
- **העברת עכבר** על ההתראה עוצרת את הטיימר
- **הרחקת עכבר** ממשיכה את הספירה
- **מאפשר קריאה** בקצב המשתמש

#### התראות קבועות (Sticky)
- **לא נסגרות אוטומטית**
- **סגירה ידנית** בלחיצה על X
- **שימוש**: הודעות חשובות מאוד

#### כפתור סגירה
- **X בפינה** ימנית עליונה
- **סגירה ידנית** בכל עת
- **נוח לניהול** מספר התראות

### תמיכה RTL
- **כיוון מימין לשמאל** - מתאים לעברית
- **אנימציות מותאמות** - מימין לשמאל
- **מיקום נכון** - בצד המתאים

### דוגמאות שימוש

התראות מופיעות אוטומטית בפעולות הבאות:
- יצירת/עריכת/מחיקת ועדות
- יצירת/עריכת/מחיקת אירועים
- שחזור מסל המחזור
- שינוי הגדרות
- התחברות/ניתוק
- שגיאות בטפסים

---

## המלצות חכמות

מערכת ההמלצות החכמה עוזרת למשתמשים לבחור את הועדה המתאימה ביותר בעת הוספת אירוע חדש.

### איך זה עובד?

כאשר אתה מתחיל ליצור אירוע חדש, המערכת:
1. **מנתחת את המסלול** שבחרת
2. **מחפשת ועדות מתאימות** מאותה חטיבה
3. **מחשבת ניקוד** לכל ועדה לפי קריטריונים
4. **ממליצה על הועדות** הטובות ביותר

### קריטריוני הניקוד

המערכת מעריכה כל ועדה לפי:

#### 1. זמינות מקום ⭐
- **מקסימום בקשות ביום** - האם יש מקום נוסף?
- **עומס נוכחי** - כמה בקשות כבר יש?
- **בונוס**: לועדות עם מקום פנוי
- **קנס**: לועדות קרובות למקסימום

#### 2. התאמת SLA 📅
- **מועד הועדה** - האם מתאים למועדי SLA של המסלול?
- **טווח אופטימלי** - בונוס לועדות בטווח האידיאלי
- **מאוחר מדי/מוקדם מדי** - קנס

#### 3. עומס הועדה ⚖️
- **מספר אירועים קיימים** - ועדות פחות עמוסות מועדפות
- **איזון עומסים** - התאמה אופטימלית

#### 4. טווח זמן 📆
- **מרחק מהיום** - בונוס לועדות בטווח סביר
- **קנס** לועדות רחוקות מדי או קרובות מדי

#### 5. אילוצים שבועיים 🗓️
- **מגבלות שבועיות** - כמה ועדות בשבוע?
- **קנס** אם השבוע עמוס מדי

### התאמה אישית

**הרשאות נדרשות:** Admin

#### גישה להגדרות
1. **גש ל"הגדרות" → "ניהול אילוצים"**
2. **גלול ל"פרמטרי המלצות"**
3. **ערוך פרמטרים**

#### פרמטרים ניתנים לכוונון

**ניקוד בסיס וסף:**
- `recommendation_base_score` - ניקוד התחלתי (100)
- `recommendation_min_score` - סף מינימלי להצגה (50)

**בונוסים:**
- `availability_bonus` - בונוס לזמינות (20)
- `sla_match_bonus` - בונוס להתאמת SLA (30)
- `low_load_bonus` - בונוס לעומס נמוך (15)
- `optimal_range_bonus` - בונוס לטווח אופטימלי (10)

**קנסים:**
- `near_capacity_penalty` - קנס קרוב למקסימום (25)
- `sla_mismatch_penalty` - קנס לאי התאמת SLA (40)
- `high_load_penalty` - קנס לעומס גבוה (20)
- `outside_range_penalty` - קנס מחוץ לטווח (15)
- `weekly_constraint_penalty` - קנס אילוצי שבוע (10)

**טווחים:**
- `optimal_weeks_min` - שבועות מינימום (2)
- `optimal_weeks_max` - שבועות מקסימום (8)

### תצוגת ההמלצות

#### ממשק המשתמש
- **כוכבים צבעוניים** ⭐⭐⭐⭐⭐ - ציון ויזואלי
- **ניקוד מספרי** - 0-100
- **סיבת ההמלצה** - הסבר קצר
- **מיון אוטומטי** - הועדות הטובות ביותר בראש

#### דוגמת תצוגה
```
⭐⭐⭐⭐⭐ ועדת הזנק - 15/01/2025 (ניקוד: 95)
  ✅ זמינות מלאה | התאמת SLA מצוינת | עומס נמוך

⭐⭐⭐⭐ ועדת צמיחה - 20/01/2025 (ניקוד: 78)
  ✅ יש מקום | טווח זמן טוב | עומס בינוני

⭐⭐⭐ ועדת תשתיות - 28/01/2025 (ניקוד: 62)
  ⚠️ קרוב למקסימום | מאוחר מעט
```

---

## חישוב מועדי שלבים

המערכת מחשבת אוטומטית את מועדי השלבים השונים של תהליך הבקשה, תוך כיבוד SLA וימי עבודה.

### מהם מועדי השלבים?

לכל אירוע (בקשה) יש 5 מועדים:

#### 1. פרסום קול קורא (Call Publication Date)
- **הזנה ידנית** על ידי המשתמש
- **נקודת התחלה** לכל החישובים
- **תאריך חשוב** - מתי הקול קורא מתפרסם

#### 2. סגירת קול קורא (Call Deadline Date)
- **מחושב אוטומטית** מפרסום הקול קורא
- **מועד הגשה אחרון** לבקשות
- **מבוסס על stage_a_days** של המסלול

#### 3. מועד הגשה (Intake Deadline Date)
- **מחושב אוטומטית**
- **מועד הגשה פנימי** למערכת
- **מבוסס על stage_b_days**

#### 4. מועד סקירה (Review Deadline Date)
- **מחושב אוטומטית**
- **מועד להשלמת סקירה** של הבקשות
- **מבוסס על stage_c_days**

#### 5. מועד תגובה (Response Deadline Date)
- **מחושב אוטומטית**
- **מועד משוב** למבקשים
- **מבוסס על stage_d_days**
- **כיבוד SLA** - סה"כ הזמן לא יעלה על sla_days

### הגדרות SLA למסלול

כל מסלול יכול להגדיר:

#### SLA כללי
- **sla_days** - סך הימים מקול קורא ועד תגובה (ברירת מחדל: 45)

#### שלבים
- **stage_a_days** - ימים לסגירת קול קורא (ברירת מחדל: 10)
- **stage_b_days** - ימים להגשה (ברירת מחדל: 15)
- **stage_c_days** - ימים לסקירה (ברירת מחדל: 10)
- **stage_d_days** - ימים לתגובה (ברירת מחדל: 10)

#### שלבים נוספים (לעתיד)
- **stage_a/b/c/d_easy_days** - לבקשות קלות
- **stage_a/b/c/d_review_days** - לבקשות בסקירה

### כללי חישוב

#### כיבוד ימי עבודה
- **רק ימי עסקים** - ראשון עד חמישי
- **דילוג על שבתות** - שישי-שבת מדולגים
- **דילוג על חגים** - לפי תאריכי חריגים

#### חישוב רקורסיבי
1. מתחילים מ**פרסום קול קורא**
2. מוסיפים **stage_a_days** ימי עבודה → **סגירת קול קורא**
3. מוסיפים **stage_b_days** ימי עבודה → **מועד הגשה**
4. מוסיפים **stage_c_days** ימי עבודה → **מועד סקירה**
5. מוסיפים **stage_d_days** ימי עבודה → **מועד תגובה**

#### אימות SLA
המערכת בודקת ש:
```
מועד תגובה - פרסום קול קורא ≤ sla_days
```

### עריכת הגדרות מסלול

**הרשאות נדרשות:** Admin

1. **גש ל"הגדרות" → "מסלולים"**
2. **לחץ "ערוך"** ליד המסלול
3. **עדכן ימי SLA** - sla_days, stage_a/b/c/d_days
4. **שמור**

**חשוב:** שינויים ישפיעו רק על אירועים חדשים!

### חישוב מחדש

אם שינית תאריך פרסום קול קורא או הגדרות מסלול:
1. **ערוך את האירוע**
2. **שנה את התאריך** או בחר מסלול מעודכן
3. **שמור** - המערכת תחשב מחדש אוטומטית

### תצוגה ביומן

מועדי השלבים מוצגים:
- **בעמוד האירועים** - טבלה מפורטת
- **בלוח השנה** (אם מסונכרן) - 5 אירועים נפרדים
- **בייצוא Excel** - עמודות נפרדות

---

## ועדות תפעוליות

ועדות תפעוליות הן ועדות אדמיניסטרטיביות טהורות שאינן קשורות לאירועים/בקשות.

### מהי ועדה תפעולית?

ועדה שבה:
- **אין אירועים** - לא קשורה לבקשות או פרויקטים
- **מטרה אדמיניסטרטיבית** - ישיבות ניהול, תכנון, תיאום
- **דוגמאות**: ועדת היגוי, ועדת אסטרטגיה, ישיבת צוות

### הגדרת ועדה תפעולית

#### יצירת סוג ועדה תפעולי
1. **גש ל"הגדרות" → "ניהול סוגי ועדות"**
2. **לחץ "הוסף סוג ועדה חדש"**
3. **מלא פרטים** - חטיבה, שם, יום, תדירות
4. **סמן "ועדה תפעולית"** ✅
5. **שמור**

#### השפעה
כאשר ועדה מסומנת כתפעולית:
- **ממשק האירועים** לא יציע אותה
- **לא ניתן להוסיף אירועים** לועדות מסוג זה
- **מופיעה ביומן** כרגיל
- **ספירה נפרדת** בסטטיסטיקות

### שימושים

#### 1. ועדות היגוי
- תכנון אסטרטגי
- החלטות ניהוליות
- סקירת ביצועים

#### 2. ועדות תיאום
- תיאום בין חטיבות
- פתרון בעיות
- חלוקת משאבים

#### 3. ישיבות צוות
- עדכונים שוטפים
- ישיבות סטטוס
- פגישות one-on-one

### יתרונות

- **ריכוז כל הועדות** - תפעוליות ורגילות במקום אחד
- **תזמון אוטומטי** - ועדות תפעוליות נכללות בתזמון
- **איזון עומסים** - מניעת התנגשויות
- **שקיפות** - כל הועדות ביומן אחד

---

## שאלות נפוצות

### שאלות כלליות

**ש: איך אני מתחיל להשתמש במערכת?**
ת: הרץ `python app.py` ופתח דפדפן בכתובת `http://localhost:5001`. לפרטי התקנה מלאים ראה חלק "התחלת עבודה".

**ש: מה ההבדל בין סוג ועדה לישיבת ועדה?**
ת: סוג ועדה הוא הגדרה כללית (כמו "ועדת הזנק") עם כללי תזמון. ישיבת ועדה היא מופע ספציפי (ועדת הזנק של חטיבת הזנק ב-15/09/2025).

**ש: כמה ישיבות יכולות להתקיים ביום אחד?**
ת: מקסימום ישיבה אחת ביום בכל המערכת - זהו כלל יסוד שמבטיח איזון עומסים.

**ש: איך עובד התזמון האוטומטי?**
ת: המערכת יוצרת הצעות לישיבות לפי סוגי הועדות המוגדרים, כיבוד ימי עסקים (ראשון-חמישי), ואילוצים נוספים. אתה יכול לבחור אילו הצעות לאשר.

**ש: למה אני לא יכול ליצור אירוע עם מסלול מחטיבה אחרת?**
ת: המערכת מבטיחה שאירועים יהיו רק עם מסלולים מאותה חטיבה של הועדה. זה שומר על ההיררכיה הארגונית.

### בעיות נפוצות

**ש: המערכת לא עולה - מה לעשות?**
ת: 
1. וודא שהסביבה הוירטואלית פעילה: `source .venv/bin/activate`
2. בדוק שכל התלויות מותקנות: `pip install -r requirements.txt`
3. וודא שפורט 5001 פנוי
4. בדוק הודעות שגיאה בטרמינל

**ש: לא מצליח להוסיף אירוע - מה הבעיה?**
ת: בדוק:
- שקיימת ישיבת ועדה מתוכננת לתאריך הרצוי
- שהמסלול שייך לאותה חטיבה של הועדה
- שיש לך הרשאות מתאימות

**ש: התזמון האוטומטי לא מציע תאריכים - למה?**
ת: יכול להיות:
- החודש כבר מלא בישיבות קיימות
- לא הוגדרו סוגי ועדות לחטיבות הנבחרות
- כל התאריכים המתאימים הם תאריכי חריגים

**ש: איך אני משנה צבע של חטיבה?**
ת: גש ל"הגדרות" → "חטיבות", לחץ "ערוך" ליד החטיבה הרצויה, ובחר צבע חדש.

### תכונות מתקדמות

**ש: איך אני יוצר ועדה חודשית?**
ת: ב"ניהול סוגי ועדות", בחר תדירות "חודשית" והגדר שבוע מסוים בחודש (ראשון/שני/שלישי/רביעי).

**ש: איך אני מגדיר ימי עסקים שונים?**
ת: המערכת מוגדרת לימי עסקים ראשון-חמישי (לוח עבודה ישראלי). שינוי זה דורש עדכון בהגדרות המערכת.

**ש: איך אני מייבא חגים אוטומטית?**
ת: ב"תאריכי חריגים" ניתן להוסיף תאריכים ידנית. ייבוא אוטומטי של חגים יהודיים זמין כתכונה עתידית.

**ש: איך משחזרים פריט שנמחק בטעות?**
ת: גש ל"סל מחזור" מהתפריט הראשי, מצא את הפריט, ולחץ "שחזר". הפריט יחזור למערכת.

**ש: איך מפעילים סנכרון לוח שנה עם Microsoft 365?**
ת: Admin בלבד - גש ל"הגדרות" → "הגדרות מערכת", הפעל את "סנכרון לוח שנה", הזן כתובת אימייל Microsoft 365, והתחבר לאישור הרשאות.

**ש: איך מחברים את המערכת ל-Active Directory?**
ת: Admin בלבד - גש ל"הגדרות" → "הגדרות מערכת", הפעל LDAP, הגדר את פרטי השרת (LDAP Server, Port, Base DN, וכו'), ובדוק את החיבור.

**ש: איך רואים מי שינה משהו במערכת?**
ת: Admin בלבד - גש ל"יומן ביקורת" מתפריט המשתמש. שם תוכל לראות את כל הפעולות, מי ביצע, מתי, ועל איזה פריט.

**ש: איך עובדת מערכת ההמלצות לועדות?**
ת: כשאתה יוצר אירוע חדש, המערכת אוטומטית ממליצה על ועדות מתאימות לפי זמינות, התאמת SLA, עומס ועוד. הועדות מדורגות עם כוכבים וניקוד.

**ש: איך המערכת מחשבת את מועדי השלבים?**
ת: אתה מזין תאריך פרסום קול קורא, והמערכת מחשבת אוטומטית את כל המועדים הבאים (סגירת קול קורא, הגשה, סקירה, תגובה) לפי הגדרות ה-SLA של המסלול, תוך כיבוד ימי עבודה וחגים.

**ש: מה ההבדל בין Editor ל-Viewer?**
ת: Viewer יכול רק לצפות בנתונים. Editor יכול גם ליצור ולערוך אירועים בחטיבות שלו (כשתקופת העריכה פתוחה). Admin יכול הכל.

**ש: איך יוצרים ועדה תפעולית (ללא אירועים)?**
ת: ב"ניהול סוגי ועדות", צור סוג ועדה חדש וסמן את "ועדה תפעולית". ועדות מסוג זה לא יאפשרו הוספת אירועים.

### טיפים לשימוש יעיל

1. **השתמש ביומן האינטראקטיבי** - הדרך המהירה ביותר ליצירת ועדות ואירועים
2. **תכנן עם התזמון האוטומטי** - יצור לוח זמנים לכמה חודשים בבת אחת
3. **הגדר סוגי ועדות מראש** - לפני השימוש בתזמון האוטומטי
4. **נהל תאריכי חריגים** - עדכן חגים בתחילת השנה
5. **השתמש בצבעי חטיבות** - לזיהוי מהיר ביומן
6. **בדוק הרשאות** - וודא שיש לך הרשאות מתאימות לפעולות שאתה רוצה לבצע

---

## תמיכה טכנית

### קבלת עזרה
- **תיעוד מפורט**: [README.md](README.md) ו-[ERD.md](ERD.md)
- **לוגי מערכת**: בדוק הודעות שגיאה בטרמינל
- **בדיקת מסד נתונים**: המערכת מבצעת מיגרציה אוטומטית
- **קהילת משתמשים**: פנה למפתחי המערכת

### דיווח על בעיות
כשמדווחים על בעיה, כללו:
- גרסת המערכת ודפדפן
- צעדים לשחזור הבעיה
- הודעות שגיאה מהטרמינל
- צילום מסך (אם רלוונטי)

### עדכונים ושיפורים
המערכת מתעדכנת באופן קבוע עם:
- תכונות חדשות
- תיקוני באגים
- שיפורי ביצועים
- עדכוני אבטחה

---

## מידע נוסף

**גרסה:** 2.0  
**עדכון אחרון:** ספטמבר 2025  
**פיתוח:** מערכת ניהול ועדות מתקדמת  
**טכנולוגיות:** Flask, SQLite, Bootstrap 5, JavaScript  
**רישיון:** פנימי לארגון  

**תכונות עיקריות בגרסה זו:**
- ✅ יומן אינטראקטיבי עם צבעי חטיבות
- ✅ תזמון אוטומטי למספר חודשים
- ✅ מערכת הרשאות מתקדמת
- ✅ ניהול סוגי ועדות גמיש
- ✅ אימות חטיבות אוטומטי
- ✅ ימי עסקים ראשון-חמישי
