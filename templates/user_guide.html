{% extends "base.html" %}
{% block title %}מדריך למשתמש{% endblock %}
{% block extra_head %}
<style>
    .guide-container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    .guide-header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 3rem 2rem; border-radius: 15px; margin-bottom: 2rem; text-align: center; }
    .guide-section { background: white; padding: 2rem; margin-bottom: 2rem; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .role-badge { display: inline-block; padding: 0.5rem 1.5rem; border-radius: 25px; font-weight: bold; font-size: 1.2rem; margin-bottom: 1rem; }
    .role-user { background: linear-gradient(135deg, #3498db, #2980b9); color: white; }
    .role-manager { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; }
    .role-admin { background: linear-gradient(135deg, #f39c12, #d68910); color: white; }
    .success-box { background: #d4edda; border-left: 4px solid #28a745; padding: 1rem; margin: 1rem 0; border-radius: 5px; }
    .error-box { background: #f8d7da; border-left: 4px solid #dc3545; padding: 1rem; margin: 1rem 0; border-radius: 5px; }
    .warning-box { background: #fff3cd; border-left: 4px solid #ffc107; padding: 1rem; margin: 1rem 0; border-radius: 5px; }
    .info-box { background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 1rem; margin: 1rem 0; border-radius: 5px; }
</style>
{% endblock %}

{% block content %}
<div class="guide-container">
    <div class="guide-header">
        <h1 class="display-4 mb-3"><i class="bi bi-book"></i> מדריך למשתמש</h1>
        <p class="lead">מערכת ניהול ועדות - איזון עומסים</p>
        <p class="mb-0">גרסה 0.5 | אוקטובר 2025</p>
        <div class="alert alert-warning mt-3 mb-0" role="alert">
            <i class="bi bi-tools me-2"></i>
            <strong>שימו לב:</strong> מדריך זה עדיין בפיתוח. חלק מהתכנים עשויים להשתנות.
        </div>
    </div>

    <!-- Viewer -->
    <div id="viewer-role" class="guide-section">
        <h2><span class="role-badge role-user">👁️ צופה - Viewer</span></h2>
        <div class="info-box">
            <h5>💡 מי זה צופה?</h5>
            <p class="mb-0">משתמש עם <strong>הרשאות קריאה בלבד</strong>. יכול לצפות בכל המידע אך לא יכול לבצע שינויים.</p>
        </div>
        <div class="row mt-3">
            <div class="col-md-6">
                <div class="success-box">
                    <h5>✅ מה ניתן:</h5>
                    <ul class="mb-0">
                        <li>צפייה בכל הנתונים</li>
                        <li>ייצוא CSV</li>
                        <li>חיפוש וסינון</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6">
                <div class="error-box">
                    <h5>❌ מה אסור:</h5>
                    <ul class="mb-0">
                        <li>עריכה או יצירה</li>
                        <li>מחיקה</li>
                        <li>ניהול</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Editor -->
    <div id="editor-role" class="guide-section">
        <h2><span class="role-badge role-manager">✏️ עורך - Editor</span></h2>
        <div class="info-box">
            <h5>💡 מי זה עורך?</h5>
            <p class="mb-0">משתמש עם <strong>הרשאות קריאה ועריכה</strong>. יכול ליצור ולערוך אירועים בחטיבות שלו.</p>
        </div>
        <div class="row mt-3">
            <div class="col-md-6">
                <div class="success-box">
                    <h5>✅ מה ניתן:</h5>
                    <ul class="mb-0">
                        <li>כל מה שיש ל-Viewer</li>
                        <li>יצירת אירועים (בחטיבות שלו)</li>
                        <li>עריכת אירועים (שיצר)</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6">
                <div class="error-box">
                    <h5>❌ מה אסור:</h5>
                    <ul class="mb-0">
                        <li>יצירת/עריכת ועדות</li>
                        <li>מחיקת אירועים</li>
                        <li>ניהול משתמשים</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="warning-box mt-3">
            <strong>⚠️ תקופת עריכה:</strong> תוכל לערוך רק כשתקופת העריכה פתוחה (מנהל מערכת שולט בזה)
        </div>
    </div>

    <!-- Admin -->
    <div id="admin-role" class="guide-section">
        <h2><span class="role-badge role-admin">👑 מנהל מערכת - Admin</span></h2>
        <div class="info-box">
            <h5>💡 מי זה מנהל מערכת?</h5>
            <p class="mb-0">ה-<strong>"סופר-יוזר"</strong> - הרשאות מלאות על כל המערכת ללא הגבלות.</p>
        </div>
        <div class="success-box mt-3">
            <h5>✅ הרשאות מלאות:</h5>
            <div class="row">
                <div class="col-md-6">
                    <ul class="mb-0">
                        <li>כל האירועים - CRUD מלא</li>
                        <li>כל הועדות - CRUD מלא</li>
                        <li>ניהול חטיבות</li>
                        <li>ניהול מסלולים</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul class="mb-0">
                        <li>ניהול משתמשים</li>
                        <li>תקופת עריכה</li>
                        <li>תזמון אוטומטי</li>
                        <li>יומן ביקורת</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- מטריצת הרשאות -->
    <div id="permissions-matrix" class="guide-section">
        <h2><i class="bi bi-table me-2"></i>מטריצת הרשאות</h2>
        <table class="table table-bordered">
            <thead class="table-primary">
                <tr>
                    <th>פעולה</th>
                    <th>Viewer</th>
                    <th>Editor</th>
                    <th>Admin</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>צפייה</td>
                    <td class="text-center">✅</td>
                    <td class="text-center">✅</td>
                    <td class="text-center">✅</td>
                </tr>
                <tr>
                    <td>יצירת אירועים</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">✅*</td>
                    <td class="text-center">✅</td>
                </tr>
                <tr>
                    <td>עריכת אירועים</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">✅*</td>
                    <td class="text-center">✅</td>
                </tr>
                <tr>
                    <td>מחיקת אירועים</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">✅</td>
                </tr>
                <tr>
                    <td>ניהול ועדות</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">✅</td>
                </tr>
                <tr>
                    <td>ניהול משתמשים</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">❌</td>
                    <td class="text-center">✅</td>
                </tr>
            </tbody>
        </table>
        <p class="text-muted"><small>* Editor תלוי בתקופת עריכה ובחטיבות המשויכות</small></p>
    </div>
</div>
{% endblock %}
